window.et_panel=window.et_panel||{},function(n){var o={popup:n(".et_panel-popup"),closePopupIcon:'<span class="et_close-popup et-button-cancel et-button"><i class="et-admin-icon et-delete"></i></span>',spinner:'<div class="et-loader ">\t\t\t\t\t<svg class="loader-circular" viewBox="25 25 50 50">\t\t\t\t\t<circle class="loader-path" cx="50" cy="50" r="12" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>\t\t\t\t\t</svg>\t\t\t\t</div>'},s=function(){n("body").addClass("et_panel-popup-on"),o.popup.html(o.spinner)},e=(window.et_panel=Object.assign(window.et_panel,{welcome_support_refresh:function(e,t){n(document).on("click",".et_support-refresh",function(e){e.preventDefault();var t=n(this).parents(".et_support-block"),a=t.find(".et_support-status"),o=n(".temp-msg");t.hasClass("processing")||(t.addClass("processing"),n.ajax({method:"POST",url:ajaxurl,dataType:"json",data:{action:"et_support_refresh"},success:function(e){"success"==e.status&&e.html&&(a.after(n(e.html).find(".et_support-status")),a.remove()),o.html(e.msg)},complete:function(e){t.removeClass("processing"),setTimeout(function(){o.html("")},1e3)},error:function(){t.removeClass("processing"),o.html("ajax error!")}}))})},welcome_theme_deactivate:function(e,t){t.preventDefault();var a=window.location.href;e.hasClass("new-theme-deactivate")?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme"},success:function(e){console.log(e);"deleted"==e.status||"not_found"==e.status?(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a):(s(),jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"deregister"},success:function(e){o.popup.html("").addClass("loading"),o.popup.prepend(o.closePopupIcon),o.popup.addClass("panel-popup-theme-deregister").append(e.content).css({"max-width":"950px",padding:"0"}),n(".et_close-popup").on("click",function(){n(".et_theme-deactivator").removeClass("loading")}),o.popup.addClass("active").removeClass("loading"),n(".panel-popup-theme-deregister .et_close-popup").on("click",function(){jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme"},success:function(e){"deleted"==e.status&&(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a)},error:function(e){alert("Error while deactivating")}})})},error:function(e){alert("Ajax Error!")}}))},error:function(e){alert("Error while deactivating")}}):confirm("Before proceeding with the deactivation of this domain, we want to confirm your decision. As part of our commitment to adhering to Envato's policy of 1 live site and 2 staging sites, we manually verify each domain to ensure compliance.")?jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_deactivate_theme"},success:function(e){"deleted"==e.status&&(a=(a=a.replace("_options&tab=1","xstore_activation_page")).replace("_options","xstore_activation_page"),window.location.href=a)},error:function(e){alert("Error while deactivating")}}):setTimeout(function(){e.removeClass("loading")},300)},welcome_registration_popup:function(e,t){t.preventDefault();var a=n("#purchase-code").val();window.location.href;s(),jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"et_ajax_panel_popup",type:"registration",code:a},success:function(e){o.popup.html("").addClass("loading"),o.popup.prepend(o.closePopupIcon),o.popup.addClass("panel-popup-theme-registration").append(e.content).css({"max-width":"950px",padding:"0"}),n(".et_close-popup").on("click",function(){n(".activate-license-btn-holder").removeClass("loading")}),o.popup.addClass("active").removeClass("loading"),n('[name="domain_type"]').on("change",function(e){n(".domain-selector-content.active").removeClass("active"),n(this).parents(".domain-selector-content").addClass("active"),n(this).is("#et_register_domain_type_staging")&&n(".staging-domain-error").length?(n(".staging-domain-error").addClass("active"),n(".popup-domain-confirm").removeClass("anabled")):(n(".staging-domain-error").removeClass("active"),n(".popup-domain-confirm").addClass("anabled"))}),n(document).on("click",".popup-domain-confirm.anabled",function(){n(".popup-step").addClass("hidden"),n(".popup-step.step-2").removeClass("hidden"),n(".tooltip-trigger").addClass("hidden"),n(".popup-theme-register").removeClass("hidden")}),n(document).on("click",".popup-theme-register.anabled",function(){jQuery.ajax({type:"POST",dataType:"JSON",url:ajaxurl,data:{action:"etheme_activate_theme",purchase_code:a},success:function(e){("success"==e.status?(n(".popup-step").addClass("hidden"),n(".popup-step.step-3").removeClass("hidden"),n(".tooltip-trigger").addClass("hidden"),n(".popup-go-to-import")):n(".registration-error").html(e.msg)).removeClass("hidden")},error:function(e){alert("Error while activation")}})}),n(document).on("click",".popup-domain-confirm:not(.anabled), .popup-theme-register:not(.anabled)",function(e){e.preventDefault()}),n(".checkbox-steps").on("change",function(e){var t=n(this).prop("checked"),a=n(this).parents(".section-block");n(this).attr("data-steps");t&&a.next(".section-block").addClass("active"),n("#deregister-domain-section-1").prop("checked")&&n("#deregister-domain-section-2").prop("checked")&&n("#deregister-domain-section-4").prop("checked")?(n(".popup-theme-register").addClass("anabled"),n(".popup-theme-register").parents(".tooltip-container").addClass("active")):(n(".popup-theme-register").removeClass("anabled"),n(".popup-theme-register").parents(".tooltip-container").removeClass("active"))})},error:function(e){alert("Ajax Error!")}})}}),{1:{selector:"",type:"ready",callback:et_panel.welcome_support_refresh},2:{selector:".et_theme-deactivator",type:"click",callback:et_panel.welcome_theme_deactivate}});n.each(e,function(e,t){"ready"==t.type?n(document).ready(function(e){t.callback(n(this),e)}):n(t.selector).on(t.type,function(e){t.callback(n(this),e)})})}(jQuery,window.et_panel);